{"mappings":"iiBAAA,IAOIA,EAPJC,EAAAC,EAAA,SAEMC,EAAQC,SAASC,cAAc,qBAC/BC,EAAOF,SAASC,cAAc,oBAC9BE,EAASH,SAASC,cAAc,sBAChCG,EAAOJ,SAASC,cAAc,SAChCI,EAAW,EAKf,SAASC,IACP,IAAIC,EAAWC,OAAOT,EAAMU,OACxBC,EAAUF,OAAON,EAAKO,OACVD,OAAOL,EAAOM,OACRE,KAAKC,SAAW,GAEpCC,EAAAhB,GAASiB,OAAOC,QAAQ,qBAAoCC,OAAfX,EAAS,QAAeW,OAATT,EAAS,OAErEM,EAAAhB,GAASiB,OAAOG,QAAQ,oBAAmCD,OAAfX,EAAS,QAAeW,OAATT,EAAS,OAGtEA,GAAYG,GADZL,GAAY,IAEIF,EAAOM,QACrBS,cAActB,GACdS,EAAW,E,CAhBfD,EAAKe,iBAAiB,UAoBtB,SAAuBC,GAOnB,OANFA,EAAMC,iBACQ,IAAIC,SAAQ,SAACC,EAASC,GAClCC,YAAW,WACX7B,EAAkB8B,YAAYpB,EAAgBJ,EAAKO,M,GAChDV,EAAMU,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst delay = document.querySelector('input[name=delay]');\nconst step = document.querySelector('input[name=step]');\nconst amount = document.querySelector('input[name=amount]');\nconst form = document.querySelector('.form');\nlet position = 1;\nlet promiseInterval;\n\nform.addEventListener('submit', createPromise);\n\nfunction resolvePromise() {\n  let delayVal = Number(delay.value);\n  let stepVal = Number(step.value);\n  let amountVal = Number(amount.value);\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    Notiflix.Notify.success(`Fulfilled promise ${position} in ${delayVal}ms`);\n  } else {\n    Notiflix.Notify.failure(`Rejected promise ${position} in ${delayVal}ms`);\n  }\n  position += 1;\n  delayVal += stepVal;\n  if (position == amount.value) {\n    clearInterval(promiseInterval);\n    position = 1;\n  }\n}\n\nfunction createPromise(event) {\n  event.preventDefault();\n  let promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n    promiseInterval = setInterval(resolvePromise, step.value);\n    }, delay.value);\n  })\n    return promise;\n\n}\n\n// createPromise(position, delay).then(increasePosition);\n  \n// function increasePosition() {\n//   position += 1;\n//   console.log(position);\n// };\n \n// function handleSubmit(event) {\n//   event.preventDefault();\n//   // setTimeout(() => {\n//   //   promiseInterval = setInterval(createPromise, step.value, position, delay);\n//   // }, delay.value)\n  \n\n// }\n"],"names":["$ce04d3a99e08e73b$var$promiseInterval","$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$delay","document","querySelector","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$form","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$resolvePromise","delayVal","Number","value","stepVal","Math","random","$parcel$interopDefault","Notify","success","concat","failure","clearInterval","addEventListener","event","preventDefault","Promise","resolve","reject","setTimeout","setInterval"],"version":3,"file":"03-promises.91e9a662.js.map"}